<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>Austin's Hawker Adventures</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
  <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    .map { position:absolute; top:0; bottom:0; width:100%; }
    .filter-ui {
  background: #fff;
  position: absolute;
  top: 10px;
  right: 10px;
  z-index: 100;
  padding: 10px;
  border-radius: 3px;
}

.filter-ui input {
  vertical-align: middle;
}
  </style>
</head>
<body>
<div id='map_simple' class='map'> </div>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiYWV2dHVzaGVua28iLCJhIjoiY2lvdjZ5dzJ0MDB2MHR6bTVoeWM4cXA3ZSJ9.aDNKdKtfrG6YVLATPWfVfw';
var filters = document.getElementById('filters');
var geojson = [
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [103.8858939, 1.308248]
    },
    properties: {
      "description": "<b>Old Airport Road</b><br><i>Blk 51 Old Airport Road, 390051</i><hr>Do not overlook <b>Blanco Court Food Centre #01-135</b> (it&rsquo;s a stall, in fact, not a meta-style food centre within a food centre). They do kway chap awfully well. You&rsquo;ll likely encounter a queue. Embrace it. These intestines are top-notch.<br><br><b>Toa Payoh Rojak #01-108</b> mixes it with the best of them; very thick, this one. I ventured out to Old Airport Road on my first day in Singapore, 19 September, 2011, and treated myself to this stuff. Good call. <br><br>Duelling CKT stalls? Yes, please. <b>Dong Ji Fried Kway Teow #01-138</b> and <b>Lao Fu Zi Fried Kway Teow #01-12</b> (LFZ is the more prominent with the psychedelic purple/green sign) deliver the goods.<br><br>Some say the chili crab from <b>Mattar Road Seafood Barbecue #01-63</b> is some of the best in the country. I&rsquo;m inclined to agree with them.<br><br>Pig&rsquo;s tail prawn noodle from <b>Albert Street Prawn Noodle #01-10</b> could do you well, too.<br><br>When you go to OAR, say hello to Kallang Estate next door and the wonderful bak chor mee from <b>&#22823;&#40060;&#22278;&#32933;&#32905;&#33054;&#38754; #01-14</b>. They don&rsquo;t get the love that they should. OAR casts a long shadow.",
      'marker-color': '#2721D6',
      'marker-size': 'medium',
      'marker-symbol': 'restaurant'
    }
  },
{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [103.843098, 1.282573]
    },
    properties: {
      "description": "<b>Chinatown Complex</b><br><i>Blk 335 Smith Street, 050335</i><hr>Holy mackerel this sucker is huge. It&rsquo;s the largest food centre in the country, if I&rsquo;m not wrong. Four colour-coded sections, a few craft beer stalls, and the infamous Michelin-starred <b>Liao Fan Hong Kong Soya Sauce Chicken Rice &amp; Noodle #02- 126</b> (the chicken is very tasty and epic queues are fun, so yes, you should go). But there&rsquo;s more&#8230; <br><br>Don&rsquo;t miss starchy steamed things from <b>Jia Ji Mei Shi #02-168</b>. They used to make a mean plate of raw fish &ndash; SG&rsquo;s best beer snack, in my book &ndash; but I&rsquo;m not sure they&rsquo;ve brought it back after that odd bacteria scare and resultant island-wide moratorium. If they&rsquo;re selling, you&rsquo;re in luck!<br><br>It&rsquo;s hard to say whether <b>Cheng Ji #02-190/191</b> or <b>An Ji #02-193/194</b> swims the anchor leg of the steamed fish head relay around these parts. If you stick with Cheng, a &ldquo;Song&rdquo; head does the trick. If you pull for An, you&rsquo;ll find their heads do well in fermented bean, black bean, or hot sauce.<br><br>Now, beer. One side of the centre overlooks bona fide Chinatown hustle-bustle. The view and the energy pair perfectly with a couple of brews. How fitting! <b>The Good Beer Company #02-58</b> and <b>Smith Street Taps #02-62</b> serve a cosmopolitan crowd a fine and wide array. A terrific little treasure.",
      'marker-color': '#7C09B0',
      'marker-size': 'medium',
      'marker-symbol': 'restaurant'
    }
  },
{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [103.935039, 1.30668]
    },
    properties: {
      "description": "<b>East Coast Lagoon</b><br><i>1220 East Coast Parkway, 468960</i><hr>You&rsquo;ll find some of the best oyster egg in the country at <b>Song Kee Fried Oyster #15</b>. The gentlemen who run this place must be brothers. Appears that they communicate telepathically.<br><br>The wings from <b>Ah Hwee BBQ Chicken Wings &amp; Spring Chicken, #14</b> are excellent. <br><br>I admire <b>Defu #19</b> for obvious reasons. Anybody who can run a successful food business selling only spiced ground fish grilled in leaves has got to be pretty shrewd. Also, you say &ldquo;otah&rdquo; or &ldquo;otak otak&rdquo;, folks, but &ldquo;otah otah&rdquo; is just odd and &ldquo;otak&rdquo; means brains in Malay. If you&rsquo;re looking for mutton brain soup at a sup kambing stall, then &ldquo;otak&rdquo; is spot-on.<br><br>Conventional wisdom is that <b>Haron Satay #55</b> is the best on the East Coast satay stretch. It&rsquo;s very good, but I prefer <b>Satay Power #6</b> at Boon Tat St. alongside Lau Pa Sat. I wanna give &lsquo;em a shout out here since Lau Pa Sat doesn&rsquo;t make the official hawker centre cut. But ask the Haron guys if they serve babat (tripe). If they do, game changer, man.<br><br>Truly, though, it&rsquo;s cockles, my friends &ndash; &lsquo;hum&rsquo; in dialect &ndash; that rise to the top of my list of essential East Coast edibles. They were meant to be eaten with a view of the water. Order them half cooked from <b>BBQ Seafood Kitchen #4</b> or <b>East Coast BBQ Seafood #60</b>. Compare the half cooked to the full, if you like. They&rsquo;re bloodier and more wild and wonderful when they&rsquo;re squishily rare. Of course, sambal stingray and baby kai lan also can.<br><br>By the way, I take no issue with the good things people say about <b>Roxy Laksa #48</b>.",
      'marker-color': '#7C09B0',
      'marker-size': 'medium',
      'marker-symbol': 'restaurant'
    }
  },
{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [103.839179, 1.312041]
    },
    properties: {
      "description": "<b>Newton</b><br><i>500 Clemenceau Ave North, 229495</i><hr>Oyster egg from <b>Hup Kee Fried Oyster Omelette #01-73</b> hits the spot, as does Newton&rsquo;s central location. It&rsquo;s less commercial and touristic than it was in 2011/12, too: many fewer hawkers jumped out at me with picture menus on my most recent visit than when I first went.",
      'marker-color': '#09E2F4',
      'marker-size': 'medium',
      'marker-symbol': 'restaurant'
    }
  }
];

var mapSimple = L.mapbox.map('map_simple', 'mapbox.streets')
  .setView([1.3614899, 103.81256104], 11);
var myLayer = L.mapbox.featureLayer().setGeoJSON(geojson).addTo(mapSimple);
myLayer.on('ready', function(e) {
  var typesObj = {},
    types = [];
  var features = e.target._geojson.features;
  for (var i = 0; i < features.length; i++) {
    typesObj[features[i].properties['marker-color']] = true;
  }
  for (var key in typesObj) {
    if ({}.hasOwnProperty.call(typesObj, key)) {
      types.push(key);
    }
  }
  var checkboxes = [];
  for (var j = 0; j < types.length; j++) {
    var item = filters.appendChild(document.createElement('div'));
    var checkbox = item.appendChild(document.createElement('input'));
    var label = item.appendChild(document.createElement('label'));
    checkbox.type = 'checkbox';
    checkbox.id = types[j];
    checkbox.checked = true;
    label.innerHTML = types[j];
    label.setAttribute('for', types[j]);
    checkbox.addEventListener('change', update);
    checkboxes.push(checkbox);
  }

  function update() {
    var enabled = {};
    for (var k = 0; k < checkboxes.length; k++) {
      if (checkboxes[k].checked) enabled[checkboxes[k].id] = true;
    }
    markers.setFilter(function(feature) {
      return feature.properties['marker-symbol'] in enabled;
    });
  }
}).addTo(mapSimple);



</script>
</body>
</html>

